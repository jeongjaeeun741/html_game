<!DOCTYPE html>
<html lang ="ko">
<head>
<meta charset="UTF-8">
<title>ìƒ‰ìƒ ê¸°ì–µ ê²Œì„</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 50px;}

  #mainScreen, #gameScreen {
    display: none;}

  #mainScreen.active, #gameScreen.active {
    display: block;}

  .colorBox {
    width: 100px;
    height: 100px;
    display: inline-block;
    margin: 10px;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.3s;}

  .show {
    opacity: 1;}

  button {
    margin: 10px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;}

  #message {
    font-size: 20px;
    margin: 20px 0;}
</style>
</head>
<body>

<div id="mainScreen" class="active">
  <h1>ğŸ¯ ê¸°ì–µë ¥ í…ŒìŠ¤íŠ¸!</h1>
  <p>ìƒ‰ìƒì„ ë³´ê³  ìˆœì„œëŒ€ë¡œ ê¸°ì–µí•´ ë§ì¶°ë³´ì„¸ìš”.</p>
  <button onclick="goToGame()">ê²Œì„ ì‹œì‘</button>
</div>

<div id="gameScreen">
  <div id="message">ìƒ‰ìƒì„ ê¸°ì–µí•˜ì„¸ìš”!</div>
  <div id="colorContainer"></div>
  <div>
    <button onclick="startGame()">ë‹¤ì‹œ ì‹œì‘</button>
    <button onclick="goToMain()">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
  </div>
</div>

<script>
  const colors = ['red', 'green', 'blue', 'orange', 'yellow'];
  let answer = [];
  let userInput = [];

  function goToGame() {
    document.getElementById('mainScreen').classList.remove('active');
    document.getElementById('gameScreen').classList.add('active');
    startGame();}

  function goToMain() {
    document.getElementById('gameScreen').classList.remove('active');
    document.getElementById('mainScreen').classList.add('active');
    document.body.style.background = 'white';
    document.getElementById('message').textContent = '';
    document.getElementById('colorContainer').innerHTML = '';}

  function showMessage(text) {
    document.getElementById('message').textContent = text;}

  function startGame() {
    answer = colors.slice();
    answer.sort(function() {
      return Math.random() - 0.5; });
      
    userInput = [];
    document.body.style.background = 'white';
    showMessage('ìƒ‰ìƒì„ ê¸°ì–µí•˜ì„¸ìš”!');

    const container = document.getElementById('colorContainer');
    container.innerHTML = '';

    answer.forEach((color, i) => {
      const box = document.createElement('div');
      box.className = 'colorBox';
      box.style.backgroundColor = color;
      container.appendChild(box);

      setTimeout(() => {
        box.classList.add('show');
        setTimeout(() => {
          box.classList.remove('show');
        }, 500);
      }, i * 1000);
    });

    setTimeout(() => {
      container.innerHTML = '';
      showMessage('ì´ì œ ìˆœì„œëŒ€ë¡œ ìƒ‰ìƒì„ í´ë¦­í•˜ì„¸ìš”!');

      const shuffled = [...colors].sort(() => Math.random() - 0.5);
      shuffled.forEach(color => {
        const box = document.createElement('div');
        box.className = 'colorBox show';
        box.style.backgroundColor = color;

        box.onclick = () => {
          userInput.push(color);
          if (userInput.length === answer.length) {
            checkAnswer();
          }
        };

        container.appendChild(box);
      });
    }, answer.length * 1000 + 500);
  }
  function checkAnswer() {
    const correct = answer.every((c, i) => c === userInput[i]);
    if (correct) {
      showMessage('ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰');
      document.body.style.background = '#d0f0c0';} 
      else {
      showMessage('í‹€ë ¸ì–´ìš”. ë‹¤ì‹œ í•´ë³´ì„¸ìš”!');
      document.body.style.background = '#ffd6d6';}

    setTimeout(() => {
      document.body.style.background = 'white';
    }, 2000);}
</script>
</body>
</html> 